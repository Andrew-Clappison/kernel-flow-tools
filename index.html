

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to KFTools documentation! &mdash; KFTools 0.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_override.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery-dataframe.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/debug.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Overview" href="about_kftools/overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> KFTools
          

          
          </a>

          
            
            
              <div class="version">
                0.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About KFTools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about_kftools/overview.html">Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started/installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started/installation.html#using-latest-github-master-source">Using latest github master source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg01r__fetching_data.html">Downloading KFTools Example Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg01r__fetching_data.html#importage">Importage</a></li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg01r__fetching_data.html#specify-data-download-location">Specify data download location</a></li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg01r__fetching_data.html#list-available-files">List available files</a></li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg01r__fetching_data.html#hb-moments-file">HB Moments file</a></li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg01r__fetching_data.html#nifti-file">Nifti file</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">SNIRF-based fNIRS Analyses</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg02r__snirf_events.html">Getting events from .snirf files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg02r__snirf_events.html#importage">Importage</a></li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg02r__snirf_events.html#grab-the-data">Grab the data</a></li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg02r__snirf_events.html#get-the-events">Get the events</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg03r__epoching_analysis.html">Epoching-based analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg03r__epoching_analysis.html#thing">Thing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg03r__epoching_analysis.html#thingywot">Thingywot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg03r__epoching_analysis.html#anotherthing">Anotherthing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg03r__epoching_analysis.html#whatevs">Whatevs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="auto_examples/eg03r__epoching_analysis.html#applying-standard-sensor-locations-to-imported-data">Applying standard sensor locations to imported data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg04r__glm_analysis.html">GLM based analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg04r__glm_analysis.html#thing">Thing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg04r__glm_analysis.html#thingywot">Thingywot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg04r__glm_analysis.html#anotherthing">Anotherthing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg04r__glm_analysis.html#whatevs">Whatevs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">KF Portal NIFTI-based fNIRS Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg05r__nifti_vol_viz.html">Nifti volumes - visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg05r__nifti_vol_viz.html#thing">Thing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg05r__nifti_vol_viz.html#thingywot">Thingywot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg05r__nifti_vol_viz.html#anotherthing">Anotherthing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg05r__nifti_vol_viz.html#whatevs">Whatevs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="auto_examples/eg05r__nifti_vol_viz.html#applying-standard-sensor-locations-to-imported-data">Applying standard sensor locations to imported data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg06r__nifti_vol_glm.html">Nifti volumes - GLM analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg06r__nifti_vol_glm.html#thing">Thing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg06r__nifti_vol_glm.html#thingywot">Thingywot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg06r__nifti_vol_glm.html#anotherthing">Anotherthing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg06r__nifti_vol_glm.html#whatevs">Whatevs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="auto_examples/eg06r__nifti_vol_glm.html#applying-standard-sensor-locations-to-imported-data">Applying standard sensor locations to imported data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg07r__nifti_vol_fc.html">Nifti volumes - functional connectivity analyses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg07r__nifti_vol_fc.html#thing">Thing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg07r__nifti_vol_fc.html#thingywot">Thingywot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg07r__nifti_vol_fc.html#anotherthing">Anotherthing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg07r__nifti_vol_fc.html#whatevs">Whatevs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg08r__nifti_surf_viz.html">Blah blah</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg08r__nifti_surf_viz.html#thing">Thing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg08r__nifti_surf_viz.html#thingywot">Thingywot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg08r__nifti_surf_viz.html#anotherthing">Anotherthing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg08r__nifti_surf_viz.html#whatevs">Whatevs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="auto_examples/eg08r__nifti_surf_viz.html#applying-standard-sensor-locations-to-imported-data">Applying standard sensor locations to imported data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg09r__nifti_surf_glm.html">Blah blah</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg09r__nifti_surf_glm.html#thing">Thing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg09r__nifti_surf_glm.html#thingywot">Thingywot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="auto_examples/eg09r__nifti_surf_glm.html#anotherthing">Anotherthing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/eg09r__nifti_surf_glm.html#whatevs">Whatevs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="auto_examples/eg09r__nifti_surf_glm.html#applying-standard-sensor-locations-to-imported-data">Applying standard sensor locations to imported data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">KFTools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Welcome to KFTools documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-kftools-documentation">
<h1>Welcome to KFTools documentation!<a class="headerlink" href="#welcome-to-kftools-documentation" title="Permalink to this headline">¶</a></h1>
<p># KernelFlow Dev Sprint</p>
<p>## Overview / Goals: What is Kernel Flow, why is it important, and what are we doing?
* In the area of non-invasive optical brain imaging devices and techniques, time-domain near-infrared spectroscopy (TD-NIRS) stands as a more effective method for capturing and analyzing data (when compared to continuous wave (CW) systems for its ability to be analyzed with a greater content of information). With the lack of commercial systems available, adoption of the technology has been slow (Ban, et al., 2021).
* Using this technology, we can collect functional near-infrared spectroscopy (fNIRS) data (with much higher resolution than functional magnetic resonance imaging (fMRI)). This type of data and work has become a reference tool and emerging paradigm in research on experimental motor control (Guerin et al., 2021), shown use in studying functional connectivity (FC) structures of the brain in resting states and at sleep states (Nguyen et al., 2018), …
* During this sprint, we’ve attempted to create a procedure of experimentation (obtaining and analyzing results of individuals performing specific tasks using the Kernel Flow software) and theoretical analysis (processing, visualizing, and aggregating/summarizing results of the experiments) for the Kernel Flow technology with the hopes of establishing its use among labs. We’re focusing specifically on TD-fNIRS (functional near-infrared spectroscopy), a type of spectroscopic optical technique which makes use of light in the 600-1100 nm window to assess the optical tissue properties, i.e. absorption and scattering coefficient.
*  While working with researchers across the world, the goal is to come  together to create and establish a procedure for collecting data and analyzing it through the Flow TD-FNIRS.</p>
<p>## Kernel Flow experimentation: Taha Morshedzadeh, Shreyas Harita, Parsa Oveisi, Renee Huang
### Protocol / procedure:
* Setup helmet
* Take head measurements
* Example measurements:
1. Nasion to Inion - 40 cm (for Shrey), 36 cm (for Davide)
2. Ear to Ear - 40 cm (for Shrey), 38 cm (for Davide)
3. Head Circumference - 56 cm (for Shrey), 59 cm (for Davide).
* Begin Kernel Flow application:
* Initialize the experiment
* Tune lasers
* View the EEG coupling</p>
<p>### Record / collect the data
* For each of the following, collect fNIRS and EEG data in a time-synchronized fashion. Use kernel acquisition method,
1. Dummy source analysis
2. Finger tapping
3. Visualizing checkerboard data (already completed from the day before)
4. Breath-holding tasks</p>
<p>## Python-based analysis (mne-nirs): Davide Momi, Frank Mazza, FuTe Wong, Andrew Clappison, Kevin Kadak, John Griffiths, Jerry Jeyachandra
* Using MNE for visualizing the data obtained from the experiments
* Pre-processing and data analysis
* Event timing reproduced from the tasks
* Script created to fix the irregular sampling in a SNIRF file (jg_fix_irregular_sampling_in_snirf_file.ipynb)
* Topoplots produced</p>
<p>## Python-based analysis (Nilearn / Nifti files): Shreyas Harita, Kevin Kadak, Hussain Ather
* Extract and visualize the <cite>nifti</cite> file data using Nilearn</p>
<p>## Matlab-based analysis (homer3): Sorenza, Zheng, Hussain, Colleen, Andreea, Gabrielle
* Used Homer3 (and AtlasViewer) for analyzing fNIRS data to obtain estimates and maps of brain activation that can be visualized with AtlasViewer (for mapping the data onto various parts of the brain).
* Run through steps for Homer3 basic analysis with example data
* Visualize data with AtlasViewer
* Transform the 2-D probe into a 3-D format
* This involved using the information specific to the probe based on how the 2-D layout corresponds to the 3-D layout of the brain itself. Use the source distance and relative positions of the optodes.
* We also used the anchor points, dummy optodes, and springs in Homer3 and the AtlasViewer GUI.
* Load the kernel .snirf file into Homer3.
* Found that the .snirf file created by the kernel does not mention the (necessary) wavelength index.
* AtlasViewer also offers ways of letting one locate the probe on the scalp so that we can actually measure our target brain region beneath, project and visualize HbO/HbR responses onto the brain surface, obtain the MNI coordinates of the optode/channel locations, and test the probe localization and fabrication error AtlasViewer.
* Used the scripts in the Homer3 MATLAB toolbox for extracting and displaying information of the .snirf files themselves.
* The <cite>kernelsprintday1.m</cite> script gives one way of extracting and visualizing the data.
* Trying to output volume data to nifti files
* Using NIfTI and ANALYZE tools</p>
<p>### References</p>
<p>Ban, Han Y., et al. “Kernel flow: a high channel count scalable TD-fNIRS system.” Integrated Sensors for Biological and Neural Sensing. Vol. 11663. International Society for Optics and Photonics, 2021.</p>
<p>Guérin, Ségolène MR, et al. “Effects of Motor Tempo on Frontal Brain Activity: An fNIRS Study.” NeuroImage 230 (2021): 117597.</p>
<p>Nguyen, Thien, et al. “Exploring brain functional connectivity in rest and sleep states: a fNIRS study.” Scientific reports 8.1 (2018): 1-10.</p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">About KFTools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about_kftools/overview.html">Overview</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg01r__fetching_data.html">Downloading KFTools Example Data</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">SNIRF-based fNIRS Analyses</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg02r__snirf_events.html">Getting events from .snirf files</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg03r__epoching_analysis.html">Epoching-based analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg04r__glm_analysis.html">GLM based analysis</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">KF Portal NIFTI-based fNIRS Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg05r__nifti_vol_viz.html">Nifti volumes - visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg06r__nifti_vol_glm.html">Nifti volumes - GLM analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg07r__nifti_vol_fc.html">Nifti volumes - functional connectivity analyses</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg08r__nifti_surf_viz.html">Blah blah</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/eg09r__nifti_surf_glm.html">Blah blah</a></li>
</ul>
</div>
<div class="toctree-wrapper compound">
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="about_kftools/overview.html" class="btn btn-neutral float-right" title="Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright KCNI Griffiths Lab &amp; Contributors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>